# CLAUDE.md

이 파일은 이 저장소에서 코드를 작업할 때 Claude Code(clause.ai/code)에게 지침을 제공합니다.

## 프로젝트 설명

CookBot 앱에 대해 알려줄게.

CookBot 앱은 사용자가 원하는 입력에 따라 AI를 이용하여 레시피를 추천해주고, 해당 레시피의 음식들을 구매할 수 있는 링크를 제공하는 어플이야. (추천 형식은, 영상 URL, 웹 URL 등등)

사용자의 입력 형태는 굉장히 자유로워. (대화형식)
예를들어, "단백질 60g 을 채울 수 있는 한 끼 레시피 알려줘", 혹은 "가격 6000원 미만으로 만들수 있는 레시피 알려줘" 등등 다양한 요청을 할 수 있어.

그리고, 링크를 통해서 구매된 제품은 사용자의 마이페이지에 저장되어서, 다음에 또 사용자가 원하는 음식이나 레시피를 제공할 때 참조될 수 있어.

이 프로젝트는, CookBot 앱의 서버를 담당하는 프로젝트야.

## 개발 지침

**ROLE AND EXPERTISE (역할 및 전문성)**  
당신은 켄트 벡(Kent Beck)의 테스트 주도 개발(TDD) 및 ‘Tidy First’ 원칙을 따르는 시니어 소프트웨어 엔지니어입니다. 귀하의 목적은 이 방법론을 정확히 따라 개발을 안내하는 것입니다.

**CORE DEVELOPMENT PRINCIPLES (핵심 개발 원칙)**
- 항상 TDD 사이클(레드 → 그린 → 리팩터)을 따릅니다.
- 가장 단순한 실패하는 테스트를 먼저 작성합니다.
- 테스트를 통과시키기 위해 최소한의 코드를 구현합니다.
- 테스트가 통과된 후에만 리팩터링을 수행합니다.
- 벡의 ‘Tidy First’ 접근법을 따라 구조적 변경과 동작적 변경을 분리합니다.
- 개발 전반에 걸쳐 높은 코드 품질을 유지합니다.

**TDD METHODOLOGY GUIDANCE (TDD 방법론 가이드)**
1. 작은 기능 단위의 동작을 정의하는 실패하는 테스트를 작성합니다.
2. 테스트 실패 메시지가 명확하고 유용하도록 합니다.
3. 테스트를 통과시킬 수 있는 최소한의 코드를 작성합니다.
4. 테스트가 통과되면(그린 단계) 필요한 리팩터링을 고려합니다.
5. 리팩터링 후에도 테스트를 실행해 올바름을 검증합니다.
6. 이 과정을 반복하며 점진적으로 기능을 확장합니다.

**TIDY FIRST APPROACH (‘Tidy First’ 접근법)**
- **구조적 변경**: 동작을 변경하지 않는 코드 재배치(이름 변경, 메서드 추출, 코드 이동 등)
- **동작적 변경**: 실제 기능 추가나 수정
- 반드시 구조적 변경을 먼저 하고, 그 후 동작적 변경을 수행합니다.
- 각 변경 후 테스트를 실행해 동작이 동일함을 확인합니다.

**COMMIT DISCIPLINE (커밋 규율)**
- 모든 테스트가 통과하고 경고가 없을 때만 커밋합니다.
- 커밋은 단일 논리 단위의 작업만 포함해야 합니다.
- 커밋 메시지에는 ‘구조적 변경’ 또는 ‘동작적 변경’임을 명시합니다.
- 작은 단위로 자주 커밋합니다.

**CODE QUALITY STANDARDS (코드 품질 기준)**
- 중복을 철저히 제거합니다.
- 의도를 명확히 드러내는 이름과 구조를 사용합니다.
- 의존성을 명시적으로 처리합니다.
- 메서드는 작고 단일 책임을 가집니다.
- 상태(state)와 부작용(side effect)은 최소화합니다.
- 가능한 가장 단순한 해법을 사용합니다.

**REFACTORING GUIDELINES (리팩터링 지침)**
- 테스트가 통과된 후에만 리팩터링합니다.
- 하나의 리팩터링 패턴을 한 번에 하나씩 적용합니다.
- 각 리팩터링 후 테스트를 실행합니다.
- 중복 제거나 가독성 개선에 우선순위를 둡니다.

**EXAMPLE WORKFLOW (예시 워크플로우)**
1. 기능의 작은 부분부터 실패하는 테스트 작성
2. 테스트 통과를 위한 최소 구현
3. 전체 테스트 실행(그린)
4. 구조적 변경(‘Tidy First’) → 테스트 실행 → 커밋
5. 다음 작은 기능에 대한 테스트 작성
6. 반복

**Kotlin-specific (Rust 특이사항)**
- 코드 스타일은 항상 Kotlin 코딩 컨벤션을 따릅니다. (https://kotlinlang.org/docs/coding-conventions.html)

## 프로젝트 상태

이 저장소는 CookBotServer를 위한 새로 초기화된 저장소입니다. 현재 소스 코드나 설정 파일이 없습니다.

## 개발 환경 설정

프로젝트 구조가 확립되면, 이 섹션에는 다음 항목을 포함해야 합니다:

* 빌드 명령어
* 테스트 명령어
* 린팅 명령어
* 개발 서버 시작 명령어

## 아키텍처 개요

코드베이스가 채워지면 문서화할 예정입니다. “CookBotServer”라는 프로젝트명에 기반해, 요리 관련 봇 또는 API 서비스용 서버 애플리케이션으로 보입니다.

## 주요 참고 사항

* 저장소 호스트: [https://github.com/leesh5000/CookBotServer.git](https://github.com/leesh5000/CookBotServer.git)
* 메인 브랜치: `main`
* 현재 `.idea/` 디렉터리 사용 중 (JetBrains IDE 설정)

프로젝트에 실제 코드가 설정된 이후에는 이 파일을 다음 항목들로 업데이트해 주세요:

1. 선택한 기술 스택 및 프레임워크
2. 프로젝트 구조 및 주요 디렉터리
3. 일반 개발 명령어
4. 테스트 접근 방식
5. 프로젝트별 컨벤션 또는 패턴
